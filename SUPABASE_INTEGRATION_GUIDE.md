# ุฏููู ุชูุงูู Supabase ูุน ุชุทุจูู CRM

## โ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุชูุตูู ุชุทุจูู CRM ุจูุฌุงุญ ุจู Supabase ูุน ุงูููุฒุงุช ุงูุชุงููุฉ:

### 1. ูุธุงู ุงููุตุงุฏูุฉ ุงููุงูู
- โ ุชุณุฌูู ูุณุชุฎุฏููู ุฌุฏุฏ ุนุจุฑ Supabase Auth
- โ ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ
- โ ุชุณุฌูู ุงูุฏุฎูู Offline (ุจุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุญููุธุฉ)
- โ ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุขูู

### 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงุณุชุฎุฏุงู ุฌุฏูู KV Store ูุญูุธ ุงูุจูุงูุงุช
- โ ุญูุธ ูุนูููุงุช ุงููุณุชุฎุฏููู
- โ ุญูุธ ุจูุงูุงุช ุงูุนููุงุก (Accounts)
- โ ุญูุธ ุงูุฒูุงุฑุงุช (Visits)

### 3. ูุธุงู Offline-First ุงููุชูุฏู
- โ ุญูุธ ูุญูู ุชููุงุฆู ูู localStorage
- โ ุทุงุจูุฑ ูุฒุงููุฉ ุฐูู (Sync Queue)
- โ ูุฒุงููุฉ ุชููุงุฆูุฉ ูู 30 ุซุงููุฉ
- โ ูุฒุงููุฉ ููุฑูุฉ ุนูุฏ ุนูุฏุฉ ุงูุงุชุตุงู
- โ ุฅุนุงุฏุฉ ูุญุงููุฉ ูุงุดูุฉ 3 ูุฑุงุช

### 4. Server Endpoints
ุชู ุฅูุดุงุก ุฌููุน ุงูู endpoints ุงููุทููุจุฉ:
- `POST /auth/signup` - ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
- `GET /auth/user` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู
- `GET /accounts` - ุฌูุจ ุฌููุน ุงูุนููุงุก
- `POST /accounts` - ุฅูุดุงุก/ุชุญุฏูุซ ุนููู
- `GET /visits` - ุฌูุจ ุฌููุน ุงูุฒูุงุฑุงุช
- `POST /visits` - ุฅูุดุงุก ุฒูุงุฑุฉ ุฌุฏูุฏุฉ
- `POST /sync` - ูุฒุงููุฉ ุฌูุงุนูุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงูุชุณุฌูู ูุฃูู ูุฑุฉ
1. ุงูุชุญ ุงูุชุทุจูู ูุงุฐูุจ ุฅูู "ุชุณุฌูู ููุฏูุจ ุฌุฏูุฏ"
2. ุฃุฏุฎู ุงูุจูุงูุงุช ุงููุทููุจุฉ:
   - ุงูุงุณู ุงููุงูู
   - ุฑูู ุงููุงุชู
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ุงููุฑูุฑ (6 ุฃุญุฑู ุนูู ุงูุฃูู)
   - ุฑูู ุงูููุธู (ุงุฎุชูุงุฑู)
   - ุงูุดุฑูุฉ
3. ุงุถุบุท "ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ"
4. ุจุนุฏ ุงูุชุณุฌููุ ุณูุชู ุชูุฌููู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

### 2. ุชุณุฌูู ุงูุฏุฎูู
1. ุฃุฏุฎู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ
2. ุงุถุบุท "ุฏุฎูู"
3. ุณูุชู ุชุญููู ุจูุงูุงุชู ุชููุงุฆูุงู ูู ุงูุณูุฑูุฑ

### 3. ุงูุนูู Offline
- ุงูุชุทุจูู ูุนูู ุจุดูู ูุงูู ุจุฏูู ุฅูุชุฑูุช
- ุฌููุน ุงูุชุบููุฑุงุช ุชูุญูุธ ูุญููุงู
- ุนูุฏ ุนูุฏุฉ ุงูุงุชุตุงูุ ุชุชู ุงููุฒุงููุฉ ุชููุงุฆูุงู

### 4. ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
1. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุนููู" ูู ุงูุฎุฑูุทุฉ
2. ุฃุฏุฎู ุจูุงูุงุช ุงูุนููู
3. ููุญูุธ ูุญููุงู ููุฑุงู
4. ููุฒุงูู ูุน ุงูุณูุฑูุฑ ุชููุงุฆูุงู

### 5. ุชุณุฌูู ุฒูุงุฑุฉ
1. ุญุฏุฏ ุงูุนููู ูู ุงูุฎุฑูุทุฉ
2. ุงุจุฏุฃ ุงูุฒูุงุฑุฉ (Drop-In)
3. ุฃููู ุงูุฒูุงุฑุฉ ูุน ุงููุชูุฌุฉ
4. ุชูุญูุธ ูุญููุงู ูุชูุฒุงูู ุชููุงุฆูุงู

## ๐ ุงูุฃูุงู

- โ ุฌููุน ุงูุทูุจุงุช ูุญููุฉ ุจู Authorization Token
- โ SUPABASE_SERVICE_ROLE_KEY ููุฌูุฏ ููุท ูู ุงูุณูุฑูุฑ
- โ ุงููุณุชุฎุฏููู ูุง ูููููู ุงููุตูู ูุจูุงูุงุช ุจุนุถูู ุงูุจุนุถ
- โ ูู ูุณุชุฎุฏู ูุฑู ุจูุงูุงุชู ููุท

## ๐ ูุธุงู ุงููุฒุงููุฉ

### ููู ูุนููุ
1. ุนูุฏ ุฅุฌุฑุงุก ุฃู ุชุบููุฑ (ุฅุถุงูุฉ ุนูููุ ุฒูุงุฑุฉุ ุฅูุฎ)
2. ููุญูุธ ูุญููุงู ููุฑุงู ูู localStorage
3. ููุถุงู ุฅูู ุทุงุจูุฑ ุงููุฒุงููุฉ (Sync Queue)
4. ุฅุฐุง ูุงู ููุงู ุฅูุชุฑูุชุ ููุฒุงูู ููุฑุงู
5. ุฅุฐุง ูู ููู ููุงู ุฅูุชุฑูุชุ ููุญูุธ ูู ุงูุทุงุจูุฑ
6. ุนูุฏ ุนูุฏุฉ ุงูุงุชุตุงูุ ุชุชู ุงููุฒุงููุฉ ุชููุงุฆูุงู

### ุงููุฒุงููุฉ ุงููุฏููุฉ
- ูููู ุงูุถุบุท ุนูู "ูุฒุงููุฉ ุงูุขู" ูู ุดุงุดุฉ ุญุงูุฉ ุงููุฒุงููุฉ
- ุชุญุฏูุซ ุงูุจูุงูุงุช ูู ุงูุณูุฑูุฑ

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
โ๏ธ **ุชุญุฐูุฑ**: Figma Make ุบูุฑ ูุฎุตุต ูุชุฃููู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ุงูุญุณุงุณุฉ (PII).
- ูุง ุชุณุชุฎุฏู ูุฐุง ุงูุชุทุจูู ูุจูุงูุงุช ุญููููุฉ ุญุณุงุณุฉ
- ูุฐุง ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ ููุท
- ููุฅูุชุงุฌุ ุงุณุชุฎุฏู ุจูุฆุฉ ุขููุฉ ููุฎุตุตุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุชุทุจูู ูุณุชุฎุฏู ุฌุฏูู KV Store ุงูุงูุชุฑุงุถู
- ูุง ูููู ุฅูุดุงุก ุฌุฏุงูู ุฌุฏูุฏุฉ ูู Figma Make
- ุฌุฏูู KV ูุฑู ููุงูู ููุชุทููุฑ

## ๐งช ุงุฎุชุจุงุฑ ุงูุชุทุจูู

### ุณููุงุฑูู ุงุฎุชุจุงุฑ ูุงูู:
1. **ุงูุชุณุฌูู**
   - ุณุฌู ูุณุชุฎุฏู ุฌุฏูุฏ
   - ุชุญูู ูู ุฑุณุงูุฉ ุงููุฌุงุญ

2. **ุชุณุฌูู ุงูุฏุฎูู**
   - ุณุฌู ุฏุฎูู ุจุงูุญุณุงุจ ุงูุฌุฏูุฏ
   - ุชุญูู ูู ุชุญููู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ

3. **ุฅุถุงูุฉ ุนููู**
   - ุฃุถู ุนููู ุฌุฏูุฏ
   - ุงูุชุญ Developer Console
   - ุดุงูุฏ ุฑุณุงูุฉ "Account synced successfully"

4. **Offline Mode**
   - ุงูุตู ุงูุฅูุชุฑูุช
   - ุฃุถู ุนููู ุขุฎุฑ
   - ุณููุญูุธ ูู ุทุงุจูุฑ ุงููุฒุงููุฉ
   - ุฃุนุฏ ุงูุฅูุชุฑูุช
   - ุดุงูุฏ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ

5. **ุฒูุงุฑุฉ Drop-In**
   - ุงุจุฏุฃ ุฒูุงุฑุฉ ูุนููู
   - ุฃููู ุงูุฒูุงุฑุฉ ูุน ุงููุชูุฌุฉ
   - ุชุญูู ูู ุญูุธูุง ูู ุงูุณูุฑูุฑ

## ๐๏ธ Troubleshooting

### ูุง ูุนูู ุงูุชุณุฌูู
- ุชุฃูุฏ ูู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุตุญูุญ
- ุชุฃูุฏ ูู ุฃู ูููุฉ ุงููุฑูุฑ 6 ุฃุญุฑู ุนูู ุงูุฃูู
- ุงูุชุญ Console ูุดุงูุฏ ุฑุณุงุฆู ุงูุฃุฎุทุงุก

### ูุง ุชุชู ุงููุฒุงููุฉ
- ุชุญูู ูู ูุฌูุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช
- ุงูุชุญ Console ูุดุงูุฏ ุฑุณุงุฆู ุงููุฒุงููุฉ
- ุชุญูู ูู ุฃูู ูุณุฌู ุฏุฎูู

### ุงูุจูุงูุงุช ูุง ุชุธูุฑ
- ุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู
- ุงุถุบุท ุนูู "ูุฒุงููุฉ ุงูุขู"
- ุงูุชุญ Console ูุดุงูุฏ ุงูุฃุฎุทุงุก

## ๐ ุงููููุงุช ุงููููุฉ

### Frontend
- `/src/utils/supabase.ts` - Supabase client
- `/src/app/contexts/AppContext.tsx` - State management
- `/src/app/services/syncService.ts` - ูุธุงู ุงููุฒุงููุฉ
- `/src/app/screens/auth/RegisterRep.tsx` - ุดุงุดุฉ ุงูุชุณุฌูู
- `/src/app/screens/auth/Login.tsx` - ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู

### Backend
- `/supabase/functions/server/index.tsx` - Server endpoints
- `/supabase/functions/server/kv_store.tsx` - KV Store utilities

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุงูุชุทุจูู ุงูุขู ุฌุงูุฒ ุจุงููุงูู! ููููู:
- โ ุชุณุฌูู ูุณุชุฎุฏููู ุฌุฏุฏ
- โ ุฅุถุงูุฉ ุนููุงุก
- โ ุชุณุฌูู ุฒูุงุฑุงุช
- โ ุงูุนูู Offline
- โ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ

ุงุณุชูุชุน ุจุงุณุชุฎุฏุงู ุงูุชุทุจูู! ๐
